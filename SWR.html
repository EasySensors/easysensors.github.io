<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/assets/styles/styles.css">
<link rel="stylesheet" href="https://indestructibletype.com/fonts/Jost.css" type="text/css" charset="utf-8" />
<script src="https://kit.fontawesome.com/79c31398dc.js" crossorigin="anonymous"></script>

<!-- favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/EasySensorsLogo-150x150.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/EasySensorsLogo-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/EasySensorsLogo-16x16.png">
<link rel="manifest" href="/assets/img/site.webmanifest">
<link rel="mask-icon" href="/assets/img/EasySensorsLogo.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/img/EasySensorsLogo-32x32.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- feed -->
<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="easySensors blog" />




<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>EasySwitchBox Antenna Efficiency Tuning | easySensors blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="EasySwitchBox Antenna Efficiency Tuning" />
<meta name="author" content="easySensors team" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The number one challenge for compact radio-controlled device creation is PCB antenna efficiency tuning. We could use antennas with SMA connector feeder for an easy workaround, but they are bulky and hard to put inside an enclosure. Most DIY projects use wire antennas. There are lots of pros with this solution, but also many cons. Someone prefer often it is because it costs nothing, and it works in most cases! However, the cons are that it does not work as well and sometimes does not work at all. Spending hours trying to put the antenna into the device compartment is a real pain. Then, when you finally get everything properly packed inside, the device transmits nothing. Agrhh, all the signals went into the nearby ground plane or the wire starts resonating at a completely different frequency. Coiled antennas are like PCB antennas, requiring the counterpoise ground plane. They require efficiency tuning similar to PCB antennas. PCB antennas are more compact and easy to produce." />
<meta property="og:description" content="The number one challenge for compact radio-controlled device creation is PCB antenna efficiency tuning. We could use antennas with SMA connector feeder for an easy workaround, but they are bulky and hard to put inside an enclosure. Most DIY projects use wire antennas. There are lots of pros with this solution, but also many cons. Someone prefer often it is because it costs nothing, and it works in most cases! However, the cons are that it does not work as well and sometimes does not work at all. Spending hours trying to put the antenna into the device compartment is a real pain. Then, when you finally get everything properly packed inside, the device transmits nothing. Agrhh, all the signals went into the nearby ground plane or the wire starts resonating at a completely different frequency. Coiled antennas are like PCB antennas, requiring the counterpoise ground plane. They require efficiency tuning similar to PCB antennas. PCB antennas are more compact and easy to produce." />
<link rel="canonical" href="http://localhost:4000/SWR.html" />
<meta property="og:url" content="http://localhost:4000/SWR.html" />
<meta property="og:site_name" content="easySensors blog" />
<meta property="og:image" content="http://localhost:4000/assets/img/EasySwitchBox-antenna-tuning-SWR-7.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-26T00:00:00-07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/assets/img/EasySwitchBox-antenna-tuning-SWR-7.jpg" />
<meta property="twitter:title" content="EasySwitchBox Antenna Efficiency Tuning" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"easySensors team"},"dateModified":"2022-10-26T00:00:00-07:00","datePublished":"2022-10-26T00:00:00-07:00","description":"The number one challenge for compact radio-controlled device creation is PCB antenna efficiency tuning. We could use antennas with SMA connector feeder for an easy workaround, but they are bulky and hard to put inside an enclosure. Most DIY projects use wire antennas. There are lots of pros with this solution, but also many cons. Someone prefer often it is because it costs nothing, and it works in most cases! However, the cons are that it does not work as well and sometimes does not work at all. Spending hours trying to put the antenna into the device compartment is a real pain. Then, when you finally get everything properly packed inside, the device transmits nothing. Agrhh, all the signals went into the nearby ground plane or the wire starts resonating at a completely different frequency. Coiled antennas are like PCB antennas, requiring the counterpoise ground plane. They require efficiency tuning similar to PCB antennas. PCB antennas are more compact and easy to produce.","headline":"EasySwitchBox Antenna Efficiency Tuning","image":"http://localhost:4000/assets/img/EasySwitchBox-antenna-tuning-SWR-7.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/SWR.html"},"url":"http://localhost:4000/SWR.html"}</script>
<!-- End Jekyll SEO tag -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1FNJQFG0KL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1FNJQFG0KL');
</script>



  </head>
  <body>
    <aside class="menu">
    <div class="menu-top">
        <div class="menu-top_logo">
            <a href="/" >
                <img src="/assets/img/band_logo.png" alt="Logo" onerror="this.style.display='none'">
            </a>
        </div>
        <div class="menu-top_expand" onclick="toggleExpander(this)">
            <div class="bar_top"></div>
            <div class="bar_middle"></div>
            <div class="bar_bottom"></div>
        </div>
        <ul class="navigation">
            
            <li>
                <a href="/" category="home" title=""
                
                    class="selected"
                
                >
                    <span>Home</span>
                </a>
            </li>
            
            <li>
                <a href="/ESP32_S2/" category="ESP32_S2" title="Made for ESPHome ESP32_S2 based devices"
                
                >
                    <span>ESP32_S2</span>
                </a>
            </li>
            
            <li>
                <a href="/LoRa-RFM/" category="LoRa-RFM" title="LoRa and RFM69 Arduino based devices"
                
                >
                    <span>LoRa-RFM</span>
                </a>
            </li>
            
            <li>
                <a href="/about.html" category="about" title="about easySensors"
                
                >
                    <span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="menu-contact">
        

        <a href="https://github.com/easysensors" target="_blank">
            <i class="fab fa-github"></i>
        </a>
        
    </div>
</aside>

      <main class="content-layout">
          <div class="post">
    <div class="content-container home">

        <header>
            <h1>EasySwitchBox Antenna Efficiency Tuning</h1>
            
                <figure class="post-cover">
                    <div class="click-to-enlarge">
                        <img
                            click-to-enlarge
                            
                            alt="Post image cover"
                            
                            class="post-cover_image webfeedsFeaturedVisual"
                            src="/assets/img/EasySwitchBox-antenna-tuning-SWR-7.jpg"
                            
                        />
                    </div>
                </figure>
            
        </header>
        <div class="post-content">
            <p>The number one challenge for compact radio-controlled device creation is PCB antenna efficiency tuning. We could use antennas with SMA connector feeder for an easy workaround, but they are bulky and hard to put inside an enclosure. Most DIY projects use wire antennas. There are lots of pros with this solution, but also many cons. Someone prefer often it is because it costs nothing, and it works in most cases! However, the cons are that it does not work as well and sometimes does not work at all. Spending hours trying to put the antenna into the device compartment is a real pain. Then, when you finally get everything properly packed inside, the device transmits nothing. Agrhh, all the signals went into the nearby ground plane or the wire starts resonating at a completely different frequency.
Coiled antennas are like PCB antennas, requiring the counterpoise ground plane. They require efficiency tuning similar to PCB antennas. PCB antennas are more compact and easy to produce.
<img src="assets/img/EasySwitchBox-antenna-tuning-1.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>PCB antenna efficiency tuning turns out to be a difficult equation for many creators. Easier to design the device and antenna as one piece from the very beginning. Let’s say you have the battery-powered device, enclosure, and antenna dimensions determined. The connected thing is being built around the antenna’s necessary counterpoise ground plane and gap between them. The counterpoise ground plane of the device is an essential part of the antenna.
<img src="assets/img/EasySwitchBox-antenna-tuning-2.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>Then tuning starts:</p>

<p>We should increase antenna radiation efficiency and match transmitter with antenna to increase reflection efficiency. Antenna radiation efficiency is maximum when antenna resonance frequency is equal to the transmission of radio frequency. We can find the resonance frequency as the minimum of the antenna impedance. We used prototype antenna modules with longer antennas, so we could cut it to decrease resonance frequency.</p>

<p><img src="assets/img/EasySwitchBox-antenna-tuning-3.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>The graph below depicts the impedance vs frequency curve of our antenna module before resonance tuning (red line) and after cutting the antenna to the appropriate length (blue line).</p>

<p><img src="assets/img/EasySwitchBox-antenna-tuning-4.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>The second step is to estimate reflection efficiency. It is SWR measurement. If the transmitter matched with antenna SWR = 1 then  100% of radio power will be transmitted to the antenna. If SWR = 2 then 89% of power is transmitted, SWR = 3 is equal to 75% of transmitted power and so on. The rule of thumb is achieving SWR less than 2.</p>

<p><img src="assets/img/EasySwitchBox-antenna-tuning-5.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>The chart below is a comparison of SWR for the easySwitchBox with different antennas.</p>

<p><img src="assets/img/EasySwitchBox-antenna-tuning-6.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>Green line is a simple 9cm wire. Interesting thing SWR is perfect, but the frequency is not 868Mhz because the ground plane and wire position are far from the ideal monopole.
Matched PCB antenna:</p>

<p><img src="assets/img/EasySwitchBox-antenna-tuning-SWR-7.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>Unmatched PCB antenna:</p>

<p><img src="assets/img/EasySwitchBox-antenna-tuning-SWR-8.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>Wire antenna:</p>

<p><img src="assets/img/EasySwitchBox-antenna-tuning-SWR-9.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>Stock SMA antenna:</p>

<p><img src="assets/img/EasySwitchBox-antenna-tuning-SWR-10.jpg" alt="EasySwitchBox Antenna Efficiency Tuning" /></p>

<p>Measured followed distance for low power RFM69CW module:</p>

<p>•	Unmatched antennas range is 200 meters (656 ft.)</p>

<p>•	Wire antenna range is 220 meters (720 ft.)</p>

<p>•	Matched antennas range is 350 meters (1150 ft.)</p>

<p>•	SMA antenna range is 300 meters (985 ft.)</p>


        </div>
        <div class="post-metadata">
            <p class="discography-album_release-date">
    date: 26 October 2022
</p>

















        </div>
    </div>
</div>

          <script>
    window.addEventListener("load", () => {
        document.getElementsByClassName("copyrights")[0].innerHTML = 
            `Copyrights &copy; ${new Date().getFullYear()} Site Author`;
    });
</script>
<footer>
    <p class="copyrights">
    </p>
</footer>
      </main>
      
      <script>
        
(function() {
    const interactedWithCookiesBanner = "interacted_with_cookies_banner";
    const storageType = localStorage;
    const cookieContainerId = "cookieContainer";

    acceptAllCookieConsent = () => {
        
            eval("storageType.setItem('GA', true);");
        
            eval("storageType.setItem('SA', true);");
        
    }

    window.cookiesAcceptDefaultFn = () => {
        const cookieContainer = document.getElementById(cookieContainerId);
        cookieContainer.classList.add("hidden");
        window.setTimeout(cookieContainer.remove.bind(cookieContainer), 1000);
        storageType.setItem(interactedWithCookiesBanner, true);
        acceptAllCookieConsent();
    }
    window.cookiesDisagreeDefaultFn = () => {
        const cookieContainer = document.getElementById(cookieContainerId);
        cookieContainer.classList.add("hidden");
        window.setTimeout(cookieContainer.remove.bind(cookieContainer), 1000);
        storageType.setItem(interactedWithCookiesBanner, true);
        window.location = `http://localhost:4000/cookies`;
    }

    window.addEventListener("load", () => {
        if(storageType.getItem(interactedWithCookiesBanner) === "true" || window.location.href.indexOf("cookies") !== -1) {
            return;
        }
        const cookieContainer = document.createElement("div");
        cookieContainer.setAttribute("id", cookieContainerId);
        cookieContainer.classList.add("hidden");

        const cookieHeader = document.createElement("h2");
        const cookieHeaderContent = document.createTextNode("Ask your users if they agree to cookies");

        const cookieParagraph = document.createElement("p");
        const cookieParagraphContent = document.createTextNode("This site might be using cookies! Customize your message or disable cookies in metaData.yml!");

        const cookieButtonsContainer = document.createElement("div");
        cookieButtonsContainer.classList.add("cookie-container--buttons");

        const cookieAgreeButton = document.createElement("button");
        const cookieButtonContent = document.createTextNode("Yes, I agree");
        cookieAgreeButton.appendChild(cookieButtonContent);
        eval("cookieAgreeButton.onclick = cookiesAcceptDefaultFn;");

        const cookieButtonDisagree = document.createElement("button");
        const cookieButtonDisagreeContent = document.createTextNode("No, take me to settings");
        cookieButtonDisagree.append(cookieButtonDisagreeContent);
        eval("cookieButtonDisagree.onclick = cookiesDisagreeDefaultFn;");

        cookieHeader.append(cookieHeaderContent);
        cookieParagraph.append(cookieParagraphContent);
        cookieButtonsContainer.append(cookieAgreeButton, cookieButtonDisagree)
        cookieContainer.append(cookieHeader, cookieParagraph, cookieButtonsContainer);
        cookieContainer.classList.add("cookie-container")
        document.body.appendChild(cookieContainer);
        window.setTimeout(() => cookieContainer.classList.remove("hidden"));
    });
})();

      </script>
    
    <script>
      (function () {
    window.toggleExpander = function toggleExpander(x) {
        const menu = document.getElementsByClassName("menu")[0];
        const navigation = document.getElementsByClassName("navigation")[0];
        if (menu.classList.contains('expanded--visible')) {
            menu.classList.toggle('expanded--visible');
            navigation.addEventListener('transitionend', function(e) {
                menu.classList.toggle("expanded");
              }, {
                capture: false,
                once: true,
                passive: false
              });
        } else {
            menu.classList.toggle("expanded");
            setTimeout(() => menu.classList.toggle('expanded--visible'), 20);
        }
    };
    window.addEventListener("load", () => {
        // #region click to enlarge images 
        const imageWrappers = document.querySelectorAll(".click-to-enlarge");
        imageWrappers.forEach(imageWrapper => {
            
            imageWrapper.addEventListener("click", () => {
                const img = imageWrapper.getElementsByTagName("img")[0];
                const src = img.attributes.getNamedItem("src");
                const modal = document.createElement("div");
                const removeModal = function() {
                    modal.classList.add("hidden");
                    setTimeout(() => {
                        document.body.removeChild(modal);
                    }, 200);
                };
                const newImage = document.createElement("img");
                newImage.classList.add("modal__picture-zoomed--image");
                newImage.setAttribute("src", src.value);
                modal.classList.add("modal__picture-zoomed", "hidden");
                // modal.style.backgroundImage = `URL("${src.value}")`;
                modal.addEventListener("click", removeModal);
                modal.append(newImage);
                document.body.append(modal);
                document.body.addEventListener("keyup", e => {
                    if (e.key === 'Escape') {
                        removeModal();
                    }
                }, {once : true});
                setTimeout(() => {
                    modal.classList.remove("hidden");
                }, 0);
            });
            
        });
        // #endregion click to enlarge images 
        // #region embedded audio players
        const players = document.querySelectorAll("iframe.embedded-player");
        const getParamsByPlayerType = (src, type) => {
            const rt = (src, height) => ({
                src: src,
                height: height
            });
            switch (type.toLocaleLowerCase()) {
                case "soundcloud":
                    return rt(`https://w.soundcloud.com/player/?url=${src}`, 125);
                case "bandcamp":
                    return rt(`https://bandcamp.com/EmbeddedPlayer/${src}`, 125);
                case "spotify":
                    return rt(`https://open.spotify.com/embed/track/${src}`, 80);
                case "spotifyalbum":
                    return rt(`https://open.spotify.com/embed/album/${src}`, 80);
                case "spotifyplaylist":
                    return rt(`https://open.spotify.com/embed/playlist/${src}`, 80);
                case "spotifyepisode":
                    return rt(`https://open.spotify.com/embed/episode/${src}`, 152);
                case "spotifyshow":
                    return rt(`https://open.spotify.com/embed/show/${src}`, 152);
                case "youtube":
                    return rt(`https://www.youtube.com/embed/${src}`, 350);
                case "anchor.fm":
                    return rt(`https://anchor.fm/sucias/embed/episodes/${src}`,102);
                default:
                    return rt(src, 125);
            }
        };
        players.forEach(player => {
            const givenSrc = player.getAttribute("givenSrc");
            const type = player.getAttribute("type");
            const { src, height } = getParamsByPlayerType(givenSrc, type);
            player.setAttribute("src", src);
            player.setAttribute("height", height);
            player.classList.remove("hidden");
        });
        // #endregion embedded audio players
    });
})();
    </script>
    


  </body>
</html>