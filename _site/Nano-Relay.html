<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/assets/styles/styles.css">
<link rel="stylesheet" href="https://indestructibletype.com/fonts/Jost.css" type="text/css" charset="utf-8" />
<script src="https://kit.fontawesome.com/79c31398dc.js" crossorigin="anonymous"></script>

<!-- favicon -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/EasySensorsLogo-150x150.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/EasySensorsLogo-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/EasySensorsLogo-16x16.png">
<link rel="manifest" href="/assets/img/site.webmanifest">
<link rel="mask-icon" href="/assets/img/EasySensorsLogo.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/img/EasySensorsLogo-32x32.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- feed -->
<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="easySensors blog" />




<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Wireless Arduino compatible DIN rail relay with LoRa or RFM 69 radio on board. | easySensors blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Wireless Arduino compatible DIN rail relay with LoRa or RFM 69 radio on board." />
<meta name="author" content="easySensors team" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Comes with DIN rail enclosure." />
<meta property="og:description" content="Comes with DIN rail enclosure." />
<link rel="canonical" href="http://localhost:4000/Nano-Relay.html" />
<meta property="og:url" content="http://localhost:4000/Nano-Relay.html" />
<meta property="og:site_name" content="easySensors blog" />
<meta property="og:image" content="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_4cr.jpg?raw=true" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-22T00:00:00-07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_4cr.jpg?raw=true" />
<meta property="twitter:title" content="Wireless Arduino compatible DIN rail relay with LoRa or RFM 69 radio on board." />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"easySensors team"},"dateModified":"2022-09-22T00:00:00-07:00","datePublished":"2022-09-22T00:00:00-07:00","description":"Comes with DIN rail enclosure.","headline":"Wireless Arduino compatible DIN rail relay with LoRa or RFM 69 radio on board.","image":"https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_4cr.jpg?raw=true","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/Nano-Relay.html"},"url":"http://localhost:4000/Nano-Relay.html"}</script>
<!-- End Jekyll SEO tag -->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1FNJQFG0KL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1FNJQFG0KL');
</script>



  </head>
  <body>
    <aside class="menu">
    <div class="menu-top">
        <div class="menu-top_logo">
            <a href="/" >
                <img src="/assets/img/band_logo.png" alt="Logo" onerror="this.style.display='none'">
            </a>
        </div>
        <div class="menu-top_expand" onclick="toggleExpander(this)">
            <div class="bar_top"></div>
            <div class="bar_middle"></div>
            <div class="bar_bottom"></div>
        </div>
        <ul class="navigation">
            
            <li>
                <a href="/" category="home" title=""
                
                >
                    <span>Home</span>
                </a>
            </li>
            
            <li>
                <a href="/ESP32_S2/" category="ESP32_S2" title="Made for ESPHome ESP32_S2 based devices"
                
                >
                    <span>ESP32_S2</span>
                </a>
            </li>
            
            <li>
                <a href="/LoRa-RFM/" category="LoRa-RFM" title="LoRa and RFM69 Arduino based devices"
                
                    class="selected"
                
                >
                    <span>LoRa-RFM</span>
                </a>
            </li>
            
            <li>
                <a href="/stores/" category="Stores" title="Store links"
                
                >
                    <span>Store links</span>
                </a>
            </li>
            
            <li>
                <a href="/about.html" category="about" title="about easySensors"
                
                >
                    <span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="menu-contact">
        

        <a href="https://github.com/easysensors" target="_blank">
            <i class="fab fa-github"></i>
        </a>
        
    </div>
</aside>

      <main class="content-layout">
          <div class="post">
    <div class="content-container ">

        <header>
            <h1>Wireless Arduino compatible DIN rail relay  with LoRa or RFM 69 radio on board.</h1>
            
                <figure class="post-cover">
                    <div class="click-to-enlarge">
                        <img
                            click-to-enlarge
                            
                            class="post-cover_image webfeedsFeaturedVisual"
                            src="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_4cr.jpg?raw=true"
                            
                        />
                    </div>
                </figure>
            
        </header>
        <div class="post-content">
            <blockquote>
  <p><a href="https://github.com/EasySensors/nanoRelayBox/blob/master/nanoRelayBox.ino">GitHub code repo link</a></p>
</blockquote>

<p><img src="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_1cr.jpg?raw=true" alt="nano Relay Box" />
<img src="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_2cr.jpg?raw=true" alt="nano Relay Box" />
<img src="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_3cr.jpg?raw=true" alt="nano Relay Box" /></p>

<h3 id="the-nano-relay-box--is-a-low-cost-wireless-220-volts-8-relay-board--arduino-nano-micro-controller-with-rfm-69-hw-radio-on-board-optional-nrf24l01--onboard-220-volts-hlk-5m05--power-supply--secure-authentication-with-atsha204a-crypto-authentication-optional-footprint-available-best-suitable-for-home-automation-iot">The Nano Relay Box  is a low cost wireless 220 Volts 8 Relay board.  Arduino Nano micro-controller with RFM 69 HW radio on board (optional NRF24L01+).  Onboard 220 Volts HLK-5M05  power supply . Secure authentication with ATSHA204A crypto-authentication (optional, footprint available). Best suitable for Home Automation, IOT.</h3>

<h2 id="specification">Specification:</h2>
<ul>
  <li>Authentication security - Atmel ATSHA204A Crypto Authentication Chip (optional, footprint available)</li>
  <li>External JDEC EPROM (optional, footprint available)</li>
  <li>RFM69-HW (high power version) 433 - 868 - 915 MHz Radio transceiver</li>
  <li>NRF24L01+ (optional, footprint available)</li>
  <li>2 x Power Relays capable to hold current up to 20A</li>
  <li>6 x Relays capable to hold current up to 10A</li>
  <li>8 LED’s indicating Relay Status</li>
  <li>7 pins terminal with 4 Analog GPIO, 3.3v  and 5v</li>
  <li>Supply voltage 240 Volts AC for <a href="http://www.hlktech.net/product_detail.php?ProId=60">HLK-5M05</a>  power supply</li>
  <li>Protection:<br />
 Fuses for 10A relays<br /></li>
  <li>Din rail plastic enclosure</li>
  <li>Enclosure  dimensions 145x90x40</li>
</ul>

<p><strong>Pin out:</strong></p>

<table>
  <thead>
    <tr>
      <th>Arduino Pins</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>A2</td>
      <td>Controls unfused Power Relay1. Current up to 20A</td>
    </tr>
    <tr>
      <td>D7</td>
      <td>Controls unfused Power Relay2. Current up to 20A</td>
    </tr>
    <tr>
      <td>A0</td>
      <td>Controls fused Relay1. Current up to 10A</td>
    </tr>
    <tr>
      <td>D6</td>
      <td>Controls fused Relay2. Current up to 10A</td>
    </tr>
    <tr>
      <td>D5</td>
      <td>Controls fused Relay3. Current up to 10A</td>
    </tr>
    <tr>
      <td>D4</td>
      <td>Controls fused Relay4. Current up to 10A</td>
    </tr>
    <tr>
      <td>D3</td>
      <td>Controls fused Relay5. Current up to 10A</td>
    </tr>
    <tr>
      <td>A1</td>
      <td>Controls fused Relay6. Current up to 10A</td>
    </tr>
    <tr>
      <td>A3</td>
      <td>Connected to ATSHA204A footprint</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Arduino Pins</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GND, 3.3V,5V, A7, A6, A5, A4</td>
      <td>connected to grey terminals</td>
    </tr>
  </tbody>
</table>

<h2 id="how-to-use-it-as-home-automation-iot-node-relay">How to use it as home automation (IOT) node Relay</h2>

<p>nanoRelayBox.ino is the Arduino example sketch using <a href="https://www.mysensors.org/">MySensors</a> API.</p>

<p>Burn the miniRelayBox.ino sketch into it and it will became  one of the MySensors home automation network Relay Node. The Relay could be controlable from a smarthome controller web interface or smarphone App. 
To create Home Automation Network you need smarthome controller and at least two Nodes one as a Sensor, relay or actuator Node and the other one as “Gateway Serial” connected to the smarthome controller. I personally love <a href="https://domoticz.com/">Domoticz</a> as home automation conroller. Please check this <a href="https://github.com/EasySensors/ButtonSizeNode/blob/master/DomoticzInstallMySensors.md">HowTo</a> to install Domoticz.</p>

<p>However, for no-controller setup, as example, you can use 3 nodes - first node as “Gateway Serial”, second node as the Mini Relay Box node and the last one as switch for the relay node. No controller needed then, keep the switch and the relay node on the same address and the switch will operate the relay node.</p>

<p>Things worth mentioning about the  <a href="https://www.mysensors.org/">MySensors</a> Arduino sketch:</p>

<table>
  <thead>
    <tr>
      <th>Code</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>#define MY_RADIO_RFM69<br />#define MY_RFM69_FREQUENCY   RF69_433MHZ<br />#define MY_IS_RFM69HW</td>
      <td>Define which radio we use – here is RFM 69<br />with frequency 433 MHZ and it is HW<br />type – one of the most powerful RFM 69 radios.<br />If your radio is RFM69CW - comment out line<br />with // #define MY_IS_RFM69HW</td>
    </tr>
    <tr>
      <td>#define MY_NODE_ID 0xE0</td>
      <td>Define Node address (0xE0 here). I prefer to use static addresses<br /> and in Hexadecimal since it is easier to identify the node<br /> address in  <a href="https://domoticz.com/">Domoticz</a> devices list after it<br /> will be discovered by controller ( <a href="https://domoticz.com/">Domoticz</a>).<br /> However, you can use AUTO instead of the hardcoded number<br /> (like 0xE0) though.  <a href="https://domoticz.com/">Domoticz</a> will automatically assign node ID then.</td>
    </tr>
    <tr>
      <td>#define MY_OTA_FIRMWARE_FEATURE<br />#define MY_OTA_FLASH_JDECID 0x2020</td>
      <td>Define OTA feature. OTA stands for “Over The Air firmware updates”.<br /> If your node does not utilize Sleep mode you can send new “firmware”<br /> (compiled sketch binary) by air. <strong>Here is the link on how to do it.</strong> <br />For OTA we use JDEC Flash chip where the node stores<br /> new firmware and once it received and controlsum (CRC) is correct<br />  it reboots and flashes your new code into the node<br /> controller. So we define it is “erase type” as 0x2020 here.</td>
    </tr>
    <tr>
      <td>#define MY_SIGNING_ATSHA204 <br />#define  MY_SIGNING_REQUEST_SIGNATURES</td>
      <td>Define if you like to use Crypto Authentication to secure your nodes<br /> from intruders or interference. After that, you have to “personalize”<br /> all the nodes, which have those, defines enabled.<br /> <a href="https://github.com/EasySensors/ButtonSizeNode/blob/master/SecurityPersonalizationHowTo.md"><strong>How to “personalize” nodes with encryption key</strong></a>.<br /> You need both defines in the nodes you need to protect.<br /> The Gateway Serial could be with only one of those<br /> defines enabled - #define MY_SIGNING_ATSHA204</td>
    </tr>
  </tbody>
</table>

<p>Connect the Relay to FTDI USB adaptor, Select Pro Mini 8MHz board in Arduino IDE and upload the miniRelayBox.ino sketch.</p>

<p><strong>Done</strong></p>

<p>The board is created by  <a href="https://www.openhardware.io/user/143/projects/Koresh">Koresh</a>
<img src="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_4.jpg?raw=true" alt="nano Relay Box" /><img src="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_1.jpg?raw=true" alt="nano Relay Box" /><img src="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_2.jpg?raw=true" alt="nano Relay Box" /><img src="https://github.com/EasySensors/nanoRelayBox/blob/master/pics/Arduino_nano_relay_box_3.jpg?raw=true" alt="nano Relay Box" /></p>

        </div>
        <div class="post-metadata">
            <p class="discography-album_release-date">
    date: 22 September 2022
</p>

















        </div>
    </div>
</div>

          <script>
    window.addEventListener("load", () => {
        document.getElementsByClassName("copyrights")[0].innerHTML = 
            `Copyrights &copy; ${new Date().getFullYear()} Site Author`;
    });
</script>
<footer>
    <p class="copyrights">
    </p>
</footer>
      </main>
      
      <script>
        
(function() {
    const interactedWithCookiesBanner = "interacted_with_cookies_banner";
    const storageType = localStorage;
    const cookieContainerId = "cookieContainer";

    acceptAllCookieConsent = () => {
        
            eval("storageType.setItem('GA', true);");
        
            eval("storageType.setItem('SA', true);");
        
    }

    window.cookiesAcceptDefaultFn = () => {
        const cookieContainer = document.getElementById(cookieContainerId);
        cookieContainer.classList.add("hidden");
        window.setTimeout(cookieContainer.remove.bind(cookieContainer), 1000);
        storageType.setItem(interactedWithCookiesBanner, true);
        acceptAllCookieConsent();
    }
    window.cookiesDisagreeDefaultFn = () => {
        const cookieContainer = document.getElementById(cookieContainerId);
        cookieContainer.classList.add("hidden");
        window.setTimeout(cookieContainer.remove.bind(cookieContainer), 1000);
        storageType.setItem(interactedWithCookiesBanner, true);
        window.location = `http://localhost:4000/cookies`;
    }

    window.addEventListener("load", () => {
        if(storageType.getItem(interactedWithCookiesBanner) === "true" || window.location.href.indexOf("cookies") !== -1) {
            return;
        }
        const cookieContainer = document.createElement("div");
        cookieContainer.setAttribute("id", cookieContainerId);
        cookieContainer.classList.add("hidden");

        const cookieHeader = document.createElement("h2");
        const cookieHeaderContent = document.createTextNode("Ask your users if they agree to cookies");

        const cookieParagraph = document.createElement("p");
        const cookieParagraphContent = document.createTextNode("This site might be using cookies! Customize your message or disable cookies in metaData.yml!");

        const cookieButtonsContainer = document.createElement("div");
        cookieButtonsContainer.classList.add("cookie-container--buttons");

        const cookieAgreeButton = document.createElement("button");
        const cookieButtonContent = document.createTextNode("Yes, I agree");
        cookieAgreeButton.appendChild(cookieButtonContent);
        eval("cookieAgreeButton.onclick = cookiesAcceptDefaultFn;");

        const cookieButtonDisagree = document.createElement("button");
        const cookieButtonDisagreeContent = document.createTextNode("No, take me to settings");
        cookieButtonDisagree.append(cookieButtonDisagreeContent);
        eval("cookieButtonDisagree.onclick = cookiesDisagreeDefaultFn;");

        cookieHeader.append(cookieHeaderContent);
        cookieParagraph.append(cookieParagraphContent);
        cookieButtonsContainer.append(cookieAgreeButton, cookieButtonDisagree)
        cookieContainer.append(cookieHeader, cookieParagraph, cookieButtonsContainer);
        cookieContainer.classList.add("cookie-container")
        document.body.appendChild(cookieContainer);
        window.setTimeout(() => cookieContainer.classList.remove("hidden"));
    });
})();

      </script>
    
    <script>
      (function () {
    window.toggleExpander = function toggleExpander(x) {
        const menu = document.getElementsByClassName("menu")[0];
        const navigation = document.getElementsByClassName("navigation")[0];
        if (menu.classList.contains('expanded--visible')) {
            menu.classList.toggle('expanded--visible');
            navigation.addEventListener('transitionend', function(e) {
                menu.classList.toggle("expanded");
              }, {
                capture: false,
                once: true,
                passive: false
              });
        } else {
            menu.classList.toggle("expanded");
            setTimeout(() => menu.classList.toggle('expanded--visible'), 20);
        }
    };
    window.addEventListener("load", () => {
        // #region click to enlarge images 
        const imageWrappers = document.querySelectorAll(".click-to-enlarge");
        imageWrappers.forEach(imageWrapper => {
            
            imageWrapper.addEventListener("click", () => {
                const img = imageWrapper.getElementsByTagName("img")[0];
                const src = img.attributes.getNamedItem("src");
                const modal = document.createElement("div");
                const removeModal = function() {
                    modal.classList.add("hidden");
                    setTimeout(() => {
                        document.body.removeChild(modal);
                    }, 200);
                };
                const newImage = document.createElement("img");
                newImage.classList.add("modal__picture-zoomed--image");
                newImage.setAttribute("src", src.value);
                modal.classList.add("modal__picture-zoomed", "hidden");
                // modal.style.backgroundImage = `URL("${src.value}")`;
                modal.addEventListener("click", removeModal);
                modal.append(newImage);
                document.body.append(modal);
                document.body.addEventListener("keyup", e => {
                    if (e.key === 'Escape') {
                        removeModal();
                    }
                }, {once : true});
                setTimeout(() => {
                    modal.classList.remove("hidden");
                }, 0);
            });
            
        });
        // #endregion click to enlarge images 
        // #region embedded audio players
        const players = document.querySelectorAll("iframe.embedded-player");
        const getParamsByPlayerType = (src, type) => {
            const rt = (src, height) => ({
                src: src,
                height: height
            });
            switch (type.toLocaleLowerCase()) {
                case "soundcloud":
                    return rt(`https://w.soundcloud.com/player/?url=${src}`, 125);
                case "bandcamp":
                    return rt(`https://bandcamp.com/EmbeddedPlayer/${src}`, 125);
                case "spotify":
                    return rt(`https://open.spotify.com/embed/track/${src}`, 80);
                case "spotifyalbum":
                    return rt(`https://open.spotify.com/embed/album/${src}`, 80);
                case "spotifyplaylist":
                    return rt(`https://open.spotify.com/embed/playlist/${src}`, 80);
                case "spotifyepisode":
                    return rt(`https://open.spotify.com/embed/episode/${src}`, 152);
                case "spotifyshow":
                    return rt(`https://open.spotify.com/embed/show/${src}`, 152);
                case "youtube":
                    return rt(`https://www.youtube.com/embed/${src}`, 350);
                case "anchor.fm":
                    return rt(`https://anchor.fm/sucias/embed/episodes/${src}`,102);
                default:
                    return rt(src, 125);
            }
        };
        players.forEach(player => {
            const givenSrc = player.getAttribute("givenSrc");
            const type = player.getAttribute("type");
            const { src, height } = getParamsByPlayerType(givenSrc, type);
            player.setAttribute("src", src);
            player.setAttribute("height", height);
            player.classList.remove("hidden");
        });
        // #endregion embedded audio players
    });
})();
    </script>
    


  </body>
</html>